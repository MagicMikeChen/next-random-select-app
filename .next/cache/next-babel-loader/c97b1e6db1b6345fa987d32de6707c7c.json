{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$(),\n    _jsxFileName = \"/Users/mikechen-mbp/Desktop/react_project/with-redux/components/clock.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useSelector, shallowEqual } from \"react-redux\";\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\n\nvar useClock = function useClock() {\n  _s();\n\n  return useSelector(function (state) {\n    return {\n      lastUpdate: state.lastUpdate,\n      light: state.light\n    };\n  }, shallowEqual);\n}; // const formatTime = (time) => {\n//   // cut off except hh:mm:ss\n//   // return new Date(time).toJSON().slice(11, 19)\n//   const timer = moment().startOf(\"day\").add(this.state.remindTime, \"second\");\n//   if (this.state.remindTime >= 3600) {\n//     return timer.format(\"HH:mm:ss\");\n//   }\n//   return timer.format(\"mm:ss\");\n// };\n\n\n_s(useClock, \"nKHvd/QB6hocKEk0fSJoSYcCyR8=\", false, function () {\n  return [useSelector];\n});\n\nvar Clock = /*#__PURE__*/function (_Component) {\n  _inherits(Clock, _Component);\n\n  var _super = _createSuper(Clock);\n\n  function Clock(props) {\n    var _this;\n\n    _classCallCheck(this, Clock);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"formatTime\", function () {\n      // cut off except hh:mm:ss\n      // return new Date(time).toJSON().slice(11, 19)\n      var timer = moment().startOf(\"day\").add(_this.state.remainTime, \"second\");\n\n      if (_this.state.remainTime >= 3600) {\n        return timer.format(\"HH:mm:ss\");\n      }\n\n      return timer.format(\"mm:ss\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"countDown\", function (second) {\n      _this.setState({\n        remainTime: second,\n        endDate: moment().add(second, \"second\")\n      });\n\n      clearInterval(_this.interval);\n      _this.interval = setInterval(function () {\n        setRemainTime({\n          remainTime: _this.state.remainTime -= 1\n        });\n\n        if (_this.state.remainTime <= 0) {\n          clearInterval(_this.interval);\n        }\n      }, 1000);\n    });\n\n    _this.state = {\n      remainTime: 59,\n      endDate: moment()\n    };\n    var interval;\n    return _this;\n  }\n\n  _createClass(Clock, [{\n    key: \"render\",\n    // const { lastUpdate, light } = useClock();\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        className: \"jsx-2404479840\" + \" \" + \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, this.formatTime(), __jsx(_JSXStyle, {\n        id: \"2404479840\",\n        __self: this\n      }, \"div.jsx-2404479840{padding:15px;display:inline-block;color:#82fa58;font:50px menlo,monaco,monospace;background-color:#000;}.light.jsx-2404479840{background-color:#999;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9taWtlY2hlbi1tYnAvRGVza3RvcC9yZWFjdF9wcm9qZWN0L3dpdGgtcmVkdXgvY29tcG9uZW50cy9jbG9jay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtRW9CLEFBRzBCLEFBUVMsYUFQRCxTQVF2QixZQVBnQixjQUNxQixpQ0FDYixzQkFDeEIiLCJmaWxlIjoiL1VzZXJzL21pa2VjaGVuLW1icC9EZXNrdG9wL3JlYWN0X3Byb2plY3Qvd2l0aC1yZWR1eC9jb21wb25lbnRzL2Nsb2NrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHNoYWxsb3dFcXVhbCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5cbmNvbnN0IHVzZUNsb2NrID0gKCkgPT4ge1xuICByZXR1cm4gdXNlU2VsZWN0b3IoXG4gICAgKHN0YXRlKSA9PiAoe1xuICAgICAgbGFzdFVwZGF0ZTogc3RhdGUubGFzdFVwZGF0ZSxcbiAgICAgIGxpZ2h0OiBzdGF0ZS5saWdodCxcbiAgICB9KSxcbiAgICBzaGFsbG93RXF1YWxcbiAgKTtcbn07XG5cbi8vIGNvbnN0IGZvcm1hdFRpbWUgPSAodGltZSkgPT4ge1xuLy8gICAvLyBjdXQgb2ZmIGV4Y2VwdCBoaDptbTpzc1xuLy8gICAvLyByZXR1cm4gbmV3IERhdGUodGltZSkudG9KU09OKCkuc2xpY2UoMTEsIDE5KVxuLy8gICBjb25zdCB0aW1lciA9IG1vbWVudCgpLnN0YXJ0T2YoXCJkYXlcIikuYWRkKHRoaXMuc3RhdGUucmVtaW5kVGltZSwgXCJzZWNvbmRcIik7XG4vLyAgIGlmICh0aGlzLnN0YXRlLnJlbWluZFRpbWUgPj0gMzYwMCkge1xuLy8gICAgIHJldHVybiB0aW1lci5mb3JtYXQoXCJISDptbTpzc1wiKTtcbi8vICAgfVxuLy8gICByZXR1cm4gdGltZXIuZm9ybWF0KFwibW06c3NcIik7XG4vLyB9O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbG9jayBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJlbWFpblRpbWU6IDU5LFxuICAgICAgZW5kRGF0ZTogbW9tZW50KCksXG4gICAgfTtcblxuICAgIGxldCBpbnRlcnZhbDtcbiAgfVxuXG4gIGZvcm1hdFRpbWUgPSAoKSA9PiB7XG4gICAgLy8gY3V0IG9mZiBleGNlcHQgaGg6bW06c3NcbiAgICAvLyByZXR1cm4gbmV3IERhdGUodGltZSkudG9KU09OKCkuc2xpY2UoMTEsIDE5KVxuICAgIGNvbnN0IHRpbWVyID0gbW9tZW50KCkuc3RhcnRPZihcImRheVwiKS5hZGQodGhpcy5zdGF0ZS5yZW1haW5UaW1lLCBcInNlY29uZFwiKTtcbiAgICBpZiAodGhpcy5zdGF0ZS5yZW1haW5UaW1lID49IDM2MDApIHtcbiAgICAgIHJldHVybiB0aW1lci5mb3JtYXQoXCJISDptbTpzc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVyLmZvcm1hdChcIm1tOnNzXCIpO1xuICB9O1xuXG4gIGNvdW50RG93biA9IChzZWNvbmQpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHJlbWFpblRpbWU6IHNlY29uZCxcbiAgICAgIGVuZERhdGU6IG1vbWVudCgpLmFkZChzZWNvbmQsIFwic2Vjb25kXCIpLFxuICAgIH0pO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHNldFJlbWFpblRpbWUoe1xuICAgICAgICByZW1haW5UaW1lOiAodGhpcy5zdGF0ZS5yZW1haW5UaW1lIC09IDEpLFxuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5yZW1haW5UaW1lIDw9IDApIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICAvLyBjb25zdCB7IGxhc3RVcGRhdGUsIGxpZ2h0IH0gPSB1c2VDbG9jaygpO1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtcIlwifT5cbiAgICAgICAge3RoaXMuZm9ybWF0VGltZSgpfVxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgZGl2IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBjb2xvcjogIzgyZmE1ODtcbiAgICAgICAgICAgIGZvbnQ6IDUwcHggbWVubG8sIG1vbmFjbywgbW9ub3NwYWNlO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubGlnaHQge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzk5OTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY291bnREb3duKDIwKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgMjAgU2Vjc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiJdfQ== */\\n/*@ sourceURL=/Users/mikechen-mbp/Desktop/react_project/with-redux/components/clock.js */\"), __jsx(\"button\", {\n        onClick: function onClick() {\n          _this2.countDown(20);\n        },\n        className: \"jsx-2404479840\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, \"20 Secs\"));\n    }\n  }]);\n\n  return Clock;\n}(Component);\n\nexport { Clock as default };","map":{"version":3,"sources":["/Users/mikechen-mbp/Desktop/react_project/with-redux/components/clock.js"],"names":["useSelector","shallowEqual","React","Component","moment","useClock","state","lastUpdate","light","Clock","props","timer","startOf","add","remainTime","format","second","setState","endDate","clearInterval","interval","setInterval","setRemainTime","formatTime","countDown"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,SAASA,WAAT,EAAsBC,YAAtB,QAA0C,aAA1C;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AACrB,SAAOL,WAAW,CAChB,UAACM,KAAD;AAAA,WAAY;AACVC,MAAAA,UAAU,EAAED,KAAK,CAACC,UADR;AAEVC,MAAAA,KAAK,EAAEF,KAAK,CAACE;AAFH,KAAZ;AAAA,GADgB,EAKhBP,YALgB,CAAlB;AAOD,CARD,C,CAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;GAlBMI,Q;UACGL,W;;;IAmBYS,K;;;;;AACnB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,iEAWN,YAAM;AACjB;AACA;AACA,UAAMC,KAAK,GAAGP,MAAM,GAAGQ,OAAT,CAAiB,KAAjB,EAAwBC,GAAxB,CAA4B,MAAKP,KAAL,CAAWQ,UAAvC,EAAmD,QAAnD,CAAd;;AACA,UAAI,MAAKR,KAAL,CAAWQ,UAAX,IAAyB,IAA7B,EAAmC;AACjC,eAAOH,KAAK,CAACI,MAAN,CAAa,UAAb,CAAP;AACD;;AACD,aAAOJ,KAAK,CAACI,MAAN,CAAa,OAAb,CAAP;AACD,KAnBkB;;AAAA,gEAqBP,UAACC,MAAD,EAAY;AACtB,YAAKC,QAAL,CAAc;AACZH,QAAAA,UAAU,EAAEE,MADA;AAEZE,QAAAA,OAAO,EAAEd,MAAM,GAAGS,GAAT,CAAaG,MAAb,EAAqB,QAArB;AAFG,OAAd;;AAIAG,MAAAA,aAAa,CAAC,MAAKC,QAAN,CAAb;AACA,YAAKA,QAAL,GAAgBC,WAAW,CAAC,YAAM;AAChCC,QAAAA,aAAa,CAAC;AACZR,UAAAA,UAAU,EAAG,MAAKR,KAAL,CAAWQ,UAAX,IAAyB;AAD1B,SAAD,CAAb;;AAGA,YAAI,MAAKR,KAAL,CAAWQ,UAAX,IAAyB,CAA7B,EAAgC;AAC9BK,UAAAA,aAAa,CAAC,MAAKC,QAAN,CAAb;AACD;AACF,OAP0B,EAOxB,IAPwB,CAA3B;AAQD,KAnCkB;;AAGjB,UAAKd,KAAL,GAAa;AACXQ,MAAAA,UAAU,EAAE,EADD;AAEXI,MAAAA,OAAO,EAAEd,MAAM;AAFJ,KAAb;AAKA,QAAIgB,QAAJ;AARiB;AASlB;;;;AA4BD;6BACS;AAAA;;AACP,aACE;AAAA,4CAAgB,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKG,UAAL,EADH;AAAA;AAAA;AAAA,0mHAeE;AACE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAACC,SAAL,CAAe,EAAf;AACD,SAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAfF,CADF;AAyBD;;;;EAjEgCrB,S;;SAAdM,K","sourcesContent":["import { useSelector, shallowEqual } from \"react-redux\";\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\n\nconst useClock = () => {\n  return useSelector(\n    (state) => ({\n      lastUpdate: state.lastUpdate,\n      light: state.light,\n    }),\n    shallowEqual\n  );\n};\n\n// const formatTime = (time) => {\n//   // cut off except hh:mm:ss\n//   // return new Date(time).toJSON().slice(11, 19)\n//   const timer = moment().startOf(\"day\").add(this.state.remindTime, \"second\");\n//   if (this.state.remindTime >= 3600) {\n//     return timer.format(\"HH:mm:ss\");\n//   }\n//   return timer.format(\"mm:ss\");\n// };\n\nexport default class Clock extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      remainTime: 59,\n      endDate: moment(),\n    };\n\n    let interval;\n  }\n\n  formatTime = () => {\n    // cut off except hh:mm:ss\n    // return new Date(time).toJSON().slice(11, 19)\n    const timer = moment().startOf(\"day\").add(this.state.remainTime, \"second\");\n    if (this.state.remainTime >= 3600) {\n      return timer.format(\"HH:mm:ss\");\n    }\n    return timer.format(\"mm:ss\");\n  };\n\n  countDown = (second) => {\n    this.setState({\n      remainTime: second,\n      endDate: moment().add(second, \"second\"),\n    });\n    clearInterval(this.interval);\n    this.interval = setInterval(() => {\n      setRemainTime({\n        remainTime: (this.state.remainTime -= 1),\n      });\n      if (this.state.remainTime <= 0) {\n        clearInterval(this.interval);\n      }\n    }, 1000);\n  };\n\n  // const { lastUpdate, light } = useClock();\n  render() {\n    return (\n      <div className={\"\"}>\n        {this.formatTime()}\n        <style jsx>{`\n          div {\n            padding: 15px;\n            display: inline-block;\n            color: #82fa58;\n            font: 50px menlo, monaco, monospace;\n            background-color: #000;\n          }\n\n          .light {\n            background-color: #999;\n          }\n        `}</style>\n        <button\n          onClick={() => {\n            this.countDown(20);\n          }}\n        >\n          20 Secs\n        </button>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}